<!doctype HTML>
<meta charset = 'utf-8'>
<!doctype HTML>
<html lang='en'>
<html lang='en'>
<head>
    <script src='js/jquery-1.8.2.min.js' type='text/javascript'></script>
    <script src="js/d3.v3.min.js" charset="utf-8"></script>
    <script src='js/cubism.v1.min.js' type='text/javascript'></script>
    <script src='js/horizon.js' type='text/javascript'></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js"></script>
    <script src="js/missing-data.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
  <div id="chart">
  </div>
<script>


var horizon = d3.horizon()
            .format('+,f')
            .id('chart')
            .nbands(5)
            .height(60)
            .lag(0),

div = d3.select('body')
      // .insert('div', 'script')
      // .attr('id', 'chart')
data = []
d3.csv('data/stocks.csv', function(error, dat) {
    // do not understand why this div needs to be here.
    data = dat;
    div.append('div').datum(dat).call(horizon);

})

</script>
</body>
</html>